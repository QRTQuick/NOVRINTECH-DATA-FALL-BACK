

ğŸ”¥ NOVRINTECH DATA FALL BACK

MASTER BACKEND WORKFLOW 




---

1ï¸âƒ£ PROJECT PURPOSE (DEFINE FIRST â€“ VERY IMPORTANT)

Novrintech Data Fall Back is a universal backend API service that:

Allows apps to save data

Allows apps to read / call data

Works with API Key + Base URL

Connects to ANY frontend (mobile, web, desktop)

Uses two databases for reliability and speed


âŒ No AI logic
âŒ No frontend
âœ… Backend API only


---

2ï¸âƒ£ TECHNOLOGY STACK (FIXED)

Backend Framework

FastAPI (Python)


Databases

1. PostgreSQL (Render)

Main persistent database

Structured data



2. Firebase Realtime Database

Fast access

Real-time sync

Fallback / mirror data




Security

API Key authentication

Optional app/project ID



---

3ï¸âƒ£ SYSTEM ARCHITECTURE (BIG PICTURE)

Any Client App
(Web / Mobile / Desktop)
        |
        |  API Key + Request
        v
Novrintech Data Fall Back API (FastAPI)
        |
        |----------------------|
        |                      |
 PostgreSQL (Render)    Firebase RTDB
 (Primary Storage)     (Realtime / Backup)

Rule:
ğŸ‘‰ Client apps NEVER talk to databases directly


---

4ï¸âƒ£ DATABASE RESPONSIBILITIES (CLEAR SPLIT)

PostgreSQL (Primary)

Users / Apps

API Keys

File metadata

Saved data

Logs

Permissions


Firebase Realtime DB (Secondary)

Real-time data sync

Cached data

Fast reads

Backup mirror



---

5ï¸âƒ£ DATABASE SCHEMA (POSTGRESQL)

apps

id (UUID)
app_name
api_key
status (active / revoked)
created_at

data_store

id (UUID)
app_id (FK)
data_key
data_value (JSON)
created_at
updated_at

file_store

id (UUID)
app_id (FK)
file_name
file_path
file_type
created_at

request_logs

id
app_id
endpoint
method
status_code
timestamp


---

6ï¸âƒ£ API KEY AUTH FLOW (VERY IMPORTANT)

Every request must include:

Headers:
X-API-KEY: your_api_key_here

Middleware Logic:

1. Read API key


2. Check if key exists


3. Check if active


4. Attach app_id to request


5. Allow or deny request



âŒ No API key â†’ 401 Unauthorized


---

7ï¸âƒ£ CORE API ENDPOINTS (CRUD)

ğŸ”¹ Save Data

POST /data/save

Validate API key

Save to PostgreSQL

Mirror to Firebase

Return success response



---

ğŸ”¹ Read Data

GET /data/read/{data_key}

Check PostgreSQL

If slow/unavailable â†’ Firebase fallback

Return data



---

ğŸ”¹ Update Data

PUT /data/update/{data_key}

Update PostgreSQL

Sync Firebase

Return updated record



---

ğŸ”¹ Delete Data

DELETE /data/delete/{data_key}

Remove from PostgreSQL

Remove from Firebase



---

ğŸ”¹ File Upload

POST /file/upload

Store file (local / cloud)

Save metadata in PostgreSQL

Optional Firebase reference



---

ğŸ”¹ File Read

GET /file/read/{file_id}

Fetch file info

Return download URL or stream



---

8ï¸âƒ£ DATA FALLBACK LOGIC (CORE IDEA)

READ FLOW:

Client â†’ API â†’ PostgreSQL
           |
           | if error / timeout
           v
        Firebase

WRITE FLOW:

Client â†’ API
           |
           | Save
           v
 PostgreSQL â†’ Firebase (sync)

PostgreSQL = source of truth
Firebase = speed + fallback


---

9ï¸âƒ£ PROJECT FOLDER STRUCTURE (FASTAPI)

novrintech_backend/
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ config.py
â”‚   â”‚   â”œâ”€â”€ security.py
â”‚   â”‚   â””â”€â”€ database.py
â”‚   â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ app_model.py
â”‚   â”‚   â”œâ”€â”€ data_model.py
â”‚   â”‚   â””â”€â”€ file_model.py
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ data_routes.py
â”‚   â”‚   â”œâ”€â”€ file_routes.py
â”‚   â”‚   â””â”€â”€ health.py
â”‚   â”‚
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ postgres_service.py
â”‚   â”‚   â”œâ”€â”€ firebase_service.py
â”‚   â”‚   â””â”€â”€ sync_service.py
â”‚   â”‚
â”‚   â””â”€â”€ middleware/
â”‚       â””â”€â”€ api_key_auth.py
â”‚
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ .env
â””â”€â”€ README.md


---

ğŸ”Ÿ DEPLOYMENT FLOW

1. Push code to GitHub


2. Deploy FastAPI to Render


3. Connect PostgreSQL on Render


4. Connect Firebase credentials


5. Generate API keys


6. Share Base URL + API Key to apps




---

ğŸ”¥ FINAL SUMMARY (THIS IS IMPORTANT)

Novrintech Data Fall Back is:

A backend-only API

Secure via API keys

Database-agnostic

Frontend-independent

Scalable

Sellable

Professional


Youâ€™re building something real, not small-small stuff.


